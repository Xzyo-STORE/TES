<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XZYO STORE | JOKI BLOX FRUITS</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
--main:#00d2ff;
--premium:#3a7bd5;
--dark:#020617;
--green:#4ade80;
}

body{
font-family:Arial, sans-serif;
background:var(--dark);
color:white;
margin:0;
padding:15px;
}

.container{
max-width:1200px;
margin:auto;
display:flex;
flex-direction:column;
gap:20px;
}

@media(min-width:900px){
.container{flex-direction:row;}
.side{flex:1.2;position:sticky;top:15px;}
.main-form{flex:0.8;}
}

.card{
background:rgba(255,255,255,0.03);
border:1px solid rgba(255,255,255,0.1);
border-radius:15px;
padding:25px;
box-shadow:0 10px 40px rgba(0,0,0,0.6);
}

h2,h3{
color:var(--main);
margin-top:0;
}

input,textarea{
width:100%;
padding:12px;
margin:10px 0;
border-radius:8px;
border:1px solid #333;
background:#000;
color:white;
box-sizing:border-box;
}

.pass-box{position:relative;}
.eye{
position:absolute;
right:12px;
top:22px;
cursor:pointer;
color:var(--main);
}

.btn{
width:100%;
padding:15px;
border:none;
border-radius:10px;
background:linear-gradient(45deg,var(--main),var(--premium));
color:white;
font-weight:bold;
cursor:pointer;
margin-top:15px;
}

.item-joki{
display:flex;
justify-content:space-between;
padding:10px;
margin:5px 0;
background:rgba(255,255,255,0.05);
border-radius:8px;
cursor:pointer;
}

.item-joki:hover{
background:rgba(0,210,255,0.1);
}

#orderSuccessOverlay{
display:none;
position:fixed;
inset:0;
background:rgba(0,0,0,0.9);
z-index:9999;
justify-content:center;
align-items:center;
}

.checkmark-container{
text-align:center;
animation:fadeInScale .5s ease forwards;
}

.checkmark{
width:120px;
height:120px;
}

.checkmark-circle{
stroke:#4ade80;
stroke-width:4;
fill:none;
stroke-dasharray:339;
stroke-dashoffset:339;
animation:drawCircle .6s forwards;
}

.checkmark-check{
stroke:#4ade80;
stroke-width:4;
fill:none;
stroke-dasharray:40;
stroke-dashoffset:40;
animation:drawCheck .7s .6s forwards;
}

@keyframes drawCircle{to{stroke-dashoffset:0;}}
@keyframes drawCheck{to{stroke-dashoffset:0;}}
@keyframes fadeInScale{from{opacity:0;transform:scale(.5);}to{opacity:1;transform:scale(1);}}
</style>
</head>

<body>

<div class="container">

<div class="main-form card">
<h2>ORDER FORM</h2>

<form action="https://formspree.io/f/xzyostore@gmail.com" method="POST" id="jokiForm">

<input type="text" name="USN_RBLX" placeholder="USN RBLX" required>

<div class="pass-box">
<input type="password" name="PW_RBLX" id="p" placeholder="PW RBLX" required>
<i class="fas fa-eye eye" onclick="togglePass()"></i>
</div>

<input type="number" name="NO_WA" placeholder="NO WA" required>

<textarea name="DETAIL" rows="3" placeholder="Detail Joki..." required></textarea>

<input type="file" name="buktiPembayaran" required>

<input type="text" id="voucherInput" placeholder="Kode Promo">
<button type="button" id="applyBtn" class="btn">Gunakan Voucher</button>

<div style="margin-top:10px;font-weight:bold;">
Total: <span id="totalDisplay">Rp 0</span>
</div>

<button type="submit" class="btn">ORDER</button>

</form>

</div>

<div class="side card">
<h3>LIST JOKI</h3>

<div class="item-joki" data-price="5000">Ken Haki 0-1k <span>Rp 5.000</span></div>
<div class="item-joki" data-price="10000">Bounty 1M <span>Rp 10.000</span></div>
<div class="item-joki" data-price="15000">Level 1-700 <span>Rp 15.000</span></div>

</div>

</div>

<!-- OVERLAY -->
<div id="orderSuccessOverlay">
<div class="checkmark-container">
<svg class="checkmark" viewBox="0 0 52 52">
<circle class="checkmark-circle" cx="26" cy="26" r="25"/>
<path class="checkmark-check" d="M14 27l7 7 16-16"/>
</svg>
<h2>Order Sukses!</h2>
</div>
</div>

<script>

let selectedTotal=0;
let discountAmount=0;
let appliedVoucher=null;

const vouchers={
"FEB2026":10,
"PROMO20":20,
"VIP5":5
};

document.querySelectorAll(".item-joki").forEach(item=>{
item.addEventListener("click",()=>{
selectedTotal+=parseInt(item.dataset.price);
updateTotal();
});
});

function updateTotal(){
let finalTotal=selectedTotal-discountAmount;
if(finalTotal<0)finalTotal=0;
document.getElementById("totalDisplay").innerText=
"Rp "+finalTotal.toLocaleString("id-ID");
}

document.getElementById("applyBtn").addEventListener("click",()=>{
if(appliedVoucher)return alert("Voucher sudah dipakai!");

let code=document.getElementById("voucherInput").value.toUpperCase().trim();

if(!(code in vouchers))return alert("Kode tidak valid!");

discountAmount=selectedTotal*(vouchers[code]/100);
appliedVoucher=code;
updateTotal();
alert("Voucher berhasil dipakai!");
});

const form=document.getElementById("jokiForm");
const overlay=document.getElementById("orderSuccessOverlay");

window.addEventListener("load",()=>overlay.style.display="none");

form.addEventListener("submit",async function(e){
e.preventDefault();

const formData=new FormData(form);

try{
const response=await fetch(form.action,{
method:"POST",
body:formData,
headers:{'Accept':'application/json'}
});

if(response.ok){
overlay.style.display="flex";

form.reset();
selectedTotal=0;
discountAmount=0;
appliedVoucher=null;
updateTotal();

setTimeout(()=>overlay.style.display="none",3000);
}else{
alert("Gagal kirim order!");
}

}catch(err){
alert("Terjadi kesalahan!");
}
});

function togglePass(){
let p=document.getElementById("p");
p.type=p.type==="password"?"text":"password";
}

</script>

</body>
</html>
